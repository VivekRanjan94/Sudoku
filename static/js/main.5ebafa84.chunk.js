(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(9),o=n.n(a),u=n(7),s=n.n(u),i=n(10),d=n(3),l=n(0);function b(e){var t=e.element,n=t.x,r=t.y,c=t.value,a=t.selected,o=t.square,u=t.highlighted,s=t.wrong,i=t.setBoard,d=e.dispatch;return Object(l.jsx)("div",{className:"element ".concat(j(n,r)," ").concat(a?"selected":""," ").concat(u?"highlighted":""," ").concat(s?"wrong":""," ").concat(i?"set":""),"data-x":n,"data-y":r,"data-square":o,onClick:function(e){d({type:"select",payload:{target:e.target}})},children:c})}function j(e,t){var n="";return n+=t%3===0?"top-":t%3===1?"mid-":"bot-",n+=e%3===0?"left":e%3===1?"mid":"right",0===t&&0===e&&(n+=" top-left-corner"),0===t&&8===e&&(n+=" top-right-corner"),8===t&&0===e&&(n+=" bot-left-corner"),8===t&&8===e&&(n+=" bot-right-corner"),"".concat(n)}function f(e){var t=e.sudoku,n=e.dispatch,c=e.setTime;function a(){c((function(e){return e+1}))}return Object(r.useEffect)((function(){var e=setInterval(a,1e3);return function(){clearInterval(e)}}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"board",children:t.board.map((function(e,t){return e.map((function(e,r){return Object(l.jsx)(b,{element:e,dispatch:n},9*t+r)}))}))})})}n(17);function m(){return"Loading"}function O(e){var t=~~(e/3600),n=~~(e%3600/60),r=~~e%60,c="";return t>0&&(c+=t+":"+(n<10?"0":"")),c+=n+":"+(r<10?"0":""),c+=""+r}function p(e){var t=e.time;return Object(l.jsxs)("div",{children:["Time: ",O(t)]})}function h(e){var t=e.sudoku,n=e.time;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"details",children:[Object(l.jsxs)("div",{children:["Mistakes: ",t.mistakes]}),Object(l.jsx)(p,{time:n})]}),Object(l.jsx)("div",{className:"paused__board",children:t.board.map((function(e,t){return e.map((function(e,n){return Object(l.jsx)("div",{className:"element ".concat(j(n,t)," ")})}))}))})]})}var v=n(8),x=n(2);function k(e,t){switch(t.type){case"set-board":return{board:t.payload.board,mistakes:0,completed:!1};case"select":var n=t.payload.target.dataset,r=n.x,c=n.y;return Object(x.a)(Object(x.a)({},e),{},{board:e.board.map((function(e,n){return e.map((function(e,n){return e.x===Number(r)&&e.y===Number(c)?Object(x.a)(Object(x.a)({},e),{},{selected:!0}):Object(x.a)(Object(x.a)({},e),{},{selected:!1,highlighted:y(t.payload.target,e)})}))})),selectedElement:t.payload.target});case"input":var a=Object(v.a)(e.board),o=a.findIndex((function(e){return e.some((function(e){return e.selected}))}));if(o>=0){var u=a[o].findIndex((function(e){return e.selected}));if(!a[o][u].setBoard){a[o][u].value=t.payload.value;var s=t.payload.value!==a[o][u].correct;return a[o][u].wrong=s,Object(x.a)(Object(x.a)({},e),{},{board:a,mistakes:s?e.mistakes+1:e.mistakes,complete:!a.some((function(e){return e.some((function(e){return void 0===e.value}))}))})}}return e;case"delete":var i=Object(v.a)(e.board),d=i.findIndex((function(e){return e.some((function(e){return e.selected}))}));if(d>=0){var l=i[d].findIndex((function(e){return e.selected}));if(!i[d][l].setBoard)return i[d][l].value=void 0,i[d][l].wrong=!1,Object(x.a)(Object(x.a)({},e),{},{board:i})}return e;case"deselect":return Object(x.a)(Object(x.a)({},e),{},{board:e.board.map((function(e){return e.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{selected:!1,highlighted:!1})}))}))});default:return e}}function y(e,t){return Number(e.dataset.x)===t.x||(Number(e.dataset.y)===t.y||(Number(e.dataset.square)===t.square||!(!e.innerText||Number(e.innerText)!==t.value)))}function g(e){if(0===e.length)return[];for(var t=[],n=0;n<9;n++){t.push([]);for(var r=0;r<9;r++)t[n].push(e[n][r])}return function e(t){for(var n=0;n<9;n++)for(var r=0;r<9;r++)if(0===t[n][r]){for(var a=1;a<=9;a++)if(c(t,n,r,a)){if(t[n][r]=a,e(t))return!0;t[n][r]=0}return!1}return!0}(t),t;function c(e,t,n,r){for(var c=0;c<9;c++){var a=3*Math.floor(t/3)+Math.floor(c/3),o=3*Math.floor(n/3)+c%3;if(e[t][c]===r||e[c][n]===r||e[a][o]===r)return!1}return!0}}function N(e){var t=e.dispatch,n=e.sudoku;function r(e){if(n.selectedElement){if("C"===e.target.innerText)return t({type:"delete"});t({type:"input",payload:{value:Number(e.target.innerText)}}),t({type:"select",payload:{target:n.selectedElement}})}}return Object(l.jsxs)("div",{className:"input",children:[Object(l.jsx)("button",{onClick:r,children:"1"}),Object(l.jsx)("button",{onClick:r,children:"2"}),Object(l.jsx)("button",{onClick:r,children:"3"}),Object(l.jsx)("button",{onClick:r,children:"4"}),Object(l.jsx)("button",{onClick:r,children:"5"}),Object(l.jsx)("button",{onClick:r,children:"6"}),Object(l.jsx)("button",{onClick:r,children:"7"}),Object(l.jsx)("button",{onClick:r,children:"8"}),Object(l.jsx)("button",{onClick:r,children:"9"}),Object(l.jsx)("button",{onClick:r,children:"C"})]})}function C(){var e=Object(r.useReducer)(k,{board:[],mistakes:0,completed:!1}),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),o=Object(d.a)(a,2),u=o[0],b=o[1],j=Object(r.useState)("easy"),v=Object(d.a)(j,2),x=v[0],y=v[1],C=Object(r.useState)(!0),w=Object(d.a)(C,2),I=w[0],S=w[1],q=Object(r.useState)(0),M=Object(d.a)(q,2),T=M[0],B=M[1],R=Object(r.useRef)();function F(){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fetch(E(x));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=g(n.board),c({type:"set-board",payload:{board:n.board.map((function(e,t){return e.map((function(e,n){return 0===e?{x:n,y:t,value:void 0,correct:r[t][n],setBoard:!1,square:3*parseInt(t/3)+parseInt(n/3)}:{x:n,y:t,value:e,setBoard:!0,square:3*parseInt(t/3)+parseInt(n/3)}}))}))}}),b(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){n.completed&&(alert("You completed the board in ".concat(O(T)," with ").concat(n.mistakes," mistakes")),F()),3===n.mistakes&&(alert("You made too many mistakes"),F()),console.log(n)}),[n]),function(e,t){var n=Object(r.useRef)(t);Object(r.useEffect)((function(){n.current=t})),Object(r.useEffect)((function(){function t(e){return n.current(e)}return document.addEventListener(e,t),function(){document.removeEventListener(e,t)}}),[e])}("keydown",(function(e){"Space"===e.code&&S(!I),e.key>=1&&e.key<=9&&(c({type:"input",payload:{value:Number(e.key)}}),c({type:"select",payload:{target:n.selectedElement}})),"Backspace"===e.code&&c({type:"delete"})})),Object(r.useEffect)((function(){F()}),[x]),u?Object(l.jsx)(m,{}):I?Object(l.jsxs)("div",{className:"paused",children:[Object(l.jsx)(h,{sudoku:n,time:T}),Object(l.jsx)("button",{onClick:function(){S(!1)},children:"Play"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"details",children:[Object(l.jsxs)("div",{children:["Mistakes: ",n.mistakes]}),Object(l.jsx)(p,{time:T})]}),Object(l.jsx)(f,{sudoku:n,dispatch:c,setTime:B}),Object(l.jsx)(N,{sudoku:n,dispatch:c}),Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsxs)("select",{name:"difficulty",id:"difficulty",onChange:function(e){b(!0),y(R.current.value)},defaultValue:x,ref:R,children:[Object(l.jsx)("option",{value:"easy",children:"Easy"}),Object(l.jsx)("option",{value:"medium",children:"Medium"}),Object(l.jsx)("option",{value:"hard",children:"Hard"}),Object(l.jsx)("option",{value:"random",children:"Random"})]}),Object(l.jsx)("button",{onClick:function(){return S(!0)},children:"Pause"}),Object(l.jsx)("button",{onClick:function(){return F()},children:"Refresh"})]})]})}function E(e){return"https://sugoku.herokuapp.com/board?difficulty=".concat(e)}function w(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"title",children:"Sudoku"}),Object(l.jsx)(C,{})]})}o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.querySelector("#root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.5ebafa84.chunk.js.map